.2026-02-25 13:44:09 [INFO] [req_id:878e1ce9-7822-4bd1-b47b-70a4e2e838c8] Auth event: signup success user_id=None email=newuser@example.com ip=127.0.0.1
C:\dev\github\business\Forensic_CPA_AI\.venv\Lib\site-packages\flask_login\login_manager.py:488: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  expires = datetime.utcnow() + duration
2026-02-25 13:44:09 [INFO] [req_id:878e1ce9-7822-4bd1-b47b-70a4e2e838c8] POST /api/auth/signup - Status: 200 - Latency: 91.06ms
.2026-02-25 13:44:09 [INFO] [req_id:a07f5ad5-5d28-4d55-914b-9a79a6d48613] Auth event: signup success user_id=None email=dup@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:a07f5ad5-5d28-4d55-914b-9a79a6d48613] POST /api/auth/signup - Status: 200 - Latency: 95.52ms
2026-02-25 13:44:09 [INFO] [req_id:b3b29eef-af5e-4c97-a30f-e75ca0f3705f] Auth event: signup success user_id=None email=dup@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:b3b29eef-af5e-4c97-a30f-e75ca0f3705f] POST /api/auth/signup - Status: 200 - Latency: 95.94ms
F2026-02-25 13:44:09 [INFO] [req_id:d5c8689b-12ea-4893-8bea-e6bc8f07c35e] Auth event: signup success user_id=None email=login_success@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:d5c8689b-12ea-4893-8bea-e6bc8f07c35e] POST /api/auth/signup - Status: 200 - Latency: 85.79ms
2026-02-25 13:44:09 [WARNING] [req_id:46713587-d79a-4b04-9c1d-70945858d380] Auth event: login failed email=login_success@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:46713587-d79a-4b04-9c1d-70945858d380] POST /api/auth/login - Status: 401 - Latency: 1.0ms
F2026-02-25 13:44:09 [INFO] [req_id:d6a38493-2927-48b8-b2c6-78b41ad50781] Auth event: signup success user_id=None email=login_fail@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:d6a38493-2927-48b8-b2c6-78b41ad50781] POST /api/auth/signup - Status: 200 - Latency: 91.02ms
2026-02-25 13:44:09 [WARNING] [req_id:3ad02087-5b38-4da8-8ad6-42f07d4fd04b] Auth event: login failed email=login_fail@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:3ad02087-5b38-4da8-8ad6-42f07d4fd04b] POST /api/auth/login - Status: 401 - Latency: 1.99ms
.2026-02-25 13:44:09 [WARNING] [req_id:61b050f7-e3e0-49c9-897b-fb18c93bd009] Auth event: login failed email=nonexistent@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:61b050f7-e3e0-49c9-897b-fb18c93bd009] POST /api/auth/login - Status: 401 - Latency: 2.07ms
2026-02-25 13:44:09 [WARNING] [req_id:a77df1a9-bc18-488d-85ec-dc8263a749c4] Auth event: login failed email=nonexistent@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:a77df1a9-bc18-488d-85ec-dc8263a749c4] POST /api/auth/login - Status: 401 - Latency: 2.05ms
2026-02-25 13:44:09 [WARNING] [req_id:9c2bc0c5-aaa2-41b1-8bd4-50593b85a19d] Auth event: login failed email=nonexistent@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:9c2bc0c5-aaa2-41b1-8bd4-50593b85a19d] POST /api/auth/login - Status: 401 - Latency: 1.0ms
2026-02-25 13:44:09 [WARNING] [req_id:129cb8c3-a292-4131-baa2-805cbef66f45] Auth event: login failed email=nonexistent@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:129cb8c3-a292-4131-baa2-805cbef66f45] POST /api/auth/login - Status: 401 - Latency: 1.0ms
2026-02-25 13:44:09 [WARNING] [req_id:5d6e2804-f34b-48ea-8c01-b02191f7960a] Auth event: login failed email=nonexistent@example.com ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:5d6e2804-f34b-48ea-8c01-b02191f7960a] POST /api/auth/login - Status: 401 - Latency: 1.47ms
2026-02-25 13:44:09 [WARNING] [req_id:3941e6c1-cecf-47cd-a740-e40bd7381675] Auth event: login rate limited ip=127.0.0.1
2026-02-25 13:44:09 [INFO] [req_id:3941e6c1-cecf-47cd-a740-e40bd7381675] POST /api/auth/login - Status: 429 - Latency: 0.0ms
.2026-02-25 13:44:10 [INFO] [req_id:bf72f3d3-a276-4ba7-9238-3ebeb7605fe6] Auth event: signup success user_id=None email=me@example.com ip=127.0.0.1
2026-02-25 13:44:10 [INFO] [req_id:bf72f3d3-a276-4ba7-9238-3ebeb7605fe6] POST /api/auth/signup - Status: 200 - Latency: 99.26ms
2026-02-25 13:44:10 [INFO] [req_id:17f8c637-b56e-40c0-94c7-6f86d85db486] GET /api/auth/me - Status: 401 - Latency: 3.42ms
F
======================================================================
FAIL: test_03_signup_duplicate_fails (test_auth_endpoints.AuthEndpointsTestCase.test_03_signup_duplicate_fails)
Integration test: Signup failure on duplicate email
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\dev\github\business\Forensic_CPA_AI\tests\test_auth_endpoints.py", line 56, in test_03_signup_duplicate_fails
    self.assertEqual(resp.status_code, 400)
AssertionError: 200 != 400

======================================================================
FAIL: test_04_login_success (test_auth_endpoints.AuthEndpointsTestCase.test_04_login_success)
Integration test: Login with correct credentials
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\dev\github\business\Forensic_CPA_AI\tests\test_auth_endpoints.py", line 68, in test_04_login_success
    self.assertEqual(resp.status_code, 200)
AssertionError: 401 != 200

======================================================================
FAIL: test_07_me_and_logout (test_auth_endpoints.AuthEndpointsTestCase.test_07_me_and_logout)
Integration test: /me and /logout endpoints
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\dev\github\business\Forensic_CPA_AI\tests\test_auth_endpoints.py", line 98, in test_07_me_and_logout
    self.assertEqual(me_resp.status_code, 200)
AssertionError: 401 != 200

----------------------------------------------------------------------
Ran 7 tests in 0.870s

FAILED (failures=3)
