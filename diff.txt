diff --git a/database.py b/database.py
index 16d659b..b7475ea 100644
--- a/database.py
+++ b/database.py
@@ -29,8 +29,16 @@ def init_db():
     cursor = conn.cursor()
 
     cursor.executescript("""
+        CREATE TABLE IF NOT EXISTS users (
+            id INTEGER PRIMARY KEY AUTOINCREMENT,
+            email TEXT UNIQUE NOT NULL,
+            password_hash TEXT NOT NULL,
+            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
+        );
+
         CREATE TABLE IF NOT EXISTS accounts (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             account_name TEXT NOT NULL,
             account_number TEXT,
             account_type TEXT NOT NULL,  -- 'bank', 'credit_card', 'venmo'
@@ -43,6 +51,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS documents (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             filename TEXT NOT NULL,
             original_path TEXT,
             file_type TEXT NOT NULL,  -- 'pdf', 'xlsx', 'docx', 'csv'
@@ -57,6 +66,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS transactions (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             document_id INTEGER,
             account_id INTEGER,
             trans_date TEXT,
@@ -88,7 +98,8 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS categories (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
-            name TEXT UNIQUE NOT NULL,
+            user_id INTEGER REFERENCES users(id),
+            name TEXT NOT NULL,
             parent_category TEXT,
             category_type TEXT,  -- 'personal', 'business', 'transfer', 'deposit', 'fee', 'other'
             color TEXT DEFAULT '#6c757d',
@@ -97,6 +108,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS category_rules (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             pattern TEXT NOT NULL,
             category TEXT NOT NULL,
             subcategory TEXT,
@@ -108,6 +120,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS audit_log (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             transaction_id INTEGER,
             action TEXT NOT NULL,
             old_value TEXT,
@@ -119,6 +132,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS proof_links (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             transaction_id INTEGER NOT NULL,
             document_id INTEGER NOT NULL,
             created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
@@ -129,6 +143,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS case_notes (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             title TEXT NOT NULL,
             content TEXT NOT NULL,
             note_type TEXT DEFAULT 'general',  -- 'general', 'finding', 'evidence', 'timeline'
@@ -140,6 +155,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS drilldown_logs (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             source_tab TEXT NOT NULL,
             widget_id TEXT NOT NULL,
             target TEXT NOT NULL,
@@ -150,6 +166,7 @@ def init_db():
         
         CREATE TABLE IF NOT EXISTS document_extractions (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             document_id INTEGER NOT NULL,
             extraction_data TEXT,  -- JSON string of the extracted fields/layout
             status TEXT DEFAULT 'pending',  -- 'pending', 'completed', 'failed'
@@ -162,7 +179,8 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS taxonomy_config (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
-            name TEXT UNIQUE NOT NULL,
+            user_id INTEGER REFERENCES users(id),
+            name TEXT NOT NULL,
             description TEXT NOT NULL,
             category_type TEXT NOT NULL, -- 'risk', 'entity', 'topic'
             severity TEXT DEFAULT 'low',  -- for risks
@@ -171,6 +189,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS document_categorizations (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             document_id INTEGER NOT NULL,
             extraction_id INTEGER,
             categorization_data TEXT, -- JSON containing RiskCategories, entities, topics, summary
@@ -186,6 +205,7 @@ def init_db():
 
         CREATE TABLE IF NOT EXISTS saved_filters (
             id INTEGER PRIMARY KEY AUTOINCREMENT,
+            user_id INTEGER REFERENCES users(id),
             name TEXT NOT NULL,
             filters TEXT NOT NULL,  -- JSON object of filter params
             created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
@@ -210,7 +230,31 @@ def init_db():
         CREATE INDEX IF NOT EXISTS idx_drilldown_logs_target ON drilldown_logs(target, timestamp);
     """)
 
-    # Insert default categories
+    # Migration for user_id on existing databases
+    cursor.execute("SELECT id FROM users WHERE email='root@system.local'")
+    root_user = cursor.fetchone()
+    if not root_user:
+        import werkzeug.security
+        hashed = werkzeug.security.generate_password_hash("root")
+        cursor.execute("INSERT INTO users (email, password_hash) VALUES (?, ?)", ("root@system.local", hashed))
+        root_id = cursor.lastrowid
+    else:
+        root_id = root_user['id']
+
+    tables_to_migrate = [
+        'accounts', 'documents', 'transactions', 'categories', 
+        'category_rules', 'saved_filters', 'document_extractions', 
+        'document_categorizations', 'audit_log', 'case_notes', 
+        'drilldown_logs', 'taxonomy_config', 'proof_links'
+    ]
+    for table in tables_to_migrate:
+        cursor.execute(f"PRAGMA table_info({table})")
+        columns = [row['name'] for row in cursor.fetchall()]
+        if 'user_id' not in columns:
+            cursor.execute(f"ALTER TABLE {table} ADD COLUMN user_id INTEGER REFERENCES users(id)")
+            cursor.execute(f"UPDATE {table} SET user_id = ?", (root_id,))
+
+    # Insert default categories only for root_id to bootstrap
     default_categories = [
         ('Deposits', None, 'deposit', '#28a745', 'arrow-down'),
         ('Transfers Out', None, 'transfer', '#dc3545', 'arrow-right'),
@@ -241,11 +285,16 @@ def init_db():
 
     for cat in default_categories:
         cursor.execute(
-            "INSERT OR IGNORE INTO categories (name, parent_category, category_type, color, icon) VALUES (?, ?, ?, ?, ?)",
-            cat
+            "SELECT id FROM categories WHERE name = ? AND user_id = ?", (cat[0], root_id)
         )
+        if not cursor.fetchone():
+            cursor.execute(
+                "INSERT INTO categories (user_id, name, parent_category, category_type, color, icon) VALUES (?, ?, ?, ?, ?, ?)",
+                (root_id,) + cat
+            )
 
     # Insert default categorization rules
+
     default_rules = [
         # Transfers
         ('INTERNET TRANSFER TO%', 'Transfers Out', None, 0, 0, 1, 100),
@@ -291,10 +340,15 @@ def init_db():
 
     for rule in default_rules:
         cursor.execute(
-            "INSERT OR IGNORE INTO category_rules (pattern, category, subcategory, is_personal, is_business, is_transfer, priority) VALUES (?, ?, ?, ?, ?, ?, ?)",
-            rule
+            "SELECT id FROM category_rules WHERE pattern = ? AND user_id = ?", (rule[0], root_id)
         )
+        if not cursor.fetchone():
+            cursor.execute(
+                "INSERT INTO category_rules (user_id, pattern, category, subcategory, is_personal, is_business, is_transfer, priority) VALUES (?, ?, ?, ?, ?, ?, ?, ?)",
+                (root_id,) + rule
+            )
 
+    # Insert default taxonomy config
     conn.commit()
     conn.close()
 
